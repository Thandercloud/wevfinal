<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - MovAni</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="forms.css">
    <link rel="shortcut icon" href="faviconofmovieanime.png" type="image/x-icon">
</head>
<body>

<header class="header">
    <div class="header-left">
        <div class="logo">
            <i class="fas fa-film"></i>
            <span>MovAni</span>
        </div>
    </div>
    <div class="header-right">
        <a href="index.html" class="add-review-btn">
            <i class="fas fa-arrow-left"></i> Back to Home
        </a>
    </div>
</header>

<main class="auth-container">
    <div class="auth-box">
        <div class="auth-header">
            <h1><i class="fas fa-sign-in-alt"></i> Welcome Back!</h1>
            <p>Sign in to continue to your MovAni account</p>
        </div>

        <div class="auth-tabs">
            <button class="auth-tab active" data-tab="login">Login</button>
            <button class="auth-tab" data-tab="signup">Sign Up</button>
        </div>

        <div id="login-form" class="auth-form-container active">
            <form id="loginForm" class="auth-form">
                <div class="social-login">
                    <button type="button" class="social-btn google-btn">
                        <i class="fab fa-google"></i> Continue with Google
                    </button>
                    <button type="button" class="social-btn github-btn">
                        <i class="fab fa-github"></i> Continue with GitHub
                    </button>
                </div>

                <div class="divider"><span>or use email</span></div>

                <div class="input-group">
                    <label for="login-email"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="login-email" required placeholder="you@example.com">
                </div>

                <div class="input-group">
                    <label for="login-password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="login-password" required placeholder="••••••••">
                </div>

                <div class="form-options">
                    <label class="checkbox">
                        <input type="checkbox"> Remember me
                    </label>
                    <a href="#">Forgot password?</a>
                </div>

                <button type="submit" class="auth-submit-btn">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>

                <div class="divider"><span>or try demo</span></div>

                <button type="button" class="demo-login-btn" onclick="loginAsDemo()">
                    <i class="fas fa-user-secret"></i> Login as Demo User
                </button>

                <p class="demo-note">
                    <i class="fas fa-info-circle"></i>
                    Email: demo@movani.com | Password: demo123
                </p>
            </form>
        </div>

        <div id="signup-form" class="auth-form-container">
            <form id="signupForm" class="auth-form">
                <div class="input-group">
                    <label for="signup-username"><i class="fas fa-user"></i> Username</label>
                    <input type="text" id="signup-username" required placeholder="Choose a username">
                </div>

                <div class="input-group">
                    <label for="signup-email"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="signup-email" required placeholder="you@example.com">
                </div>

                <div class="input-group">
                    <label for="signup-password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="signup-password" required placeholder="••••••••">
                </div>

                <div class="input-group">
                    <label for="confirm-password"><i class="fas fa-lock"></i> Confirm Password</label>
                    <input type="password" id="confirm-password" required placeholder="••••••••">
                </div>

                <label class="checkbox">
                    <input type="checkbox" required>
                    I agree to the Terms of Service and Privacy Policy
                </label>

                <button type="submit" class="auth-submit-btn">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </form>
        </div>
    </div>
</main>

<script>
const tabs = document.querySelectorAll('.auth-tab');
const forms = document.querySelectorAll('.auth-form-container');

tabs.forEach(tab => {
    tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        forms.forEach(f => f.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab + '-form').classList.add('active');
    });
});

function loginAsDemo() {
    const demoUser = {
        id: 999999,
        username: "demo_user",
        email: "demo@movani.com",
        displayName: "Demo User",
        avatar: "DU",
        joined: new Date().toISOString(),
        stats: {
            reviews: 5,
            watchlist: 3,
            following: 10,
            followers: 8
        }
    };

    localStorage.setItem('currentUser', JSON.stringify(demoUser));

    let db = JSON.parse(localStorage.getItem('movani_db') || '{}');
    if (!db.users) db.users = [];
    if (!db.users.find(u => u.email === demoUser.email)) {
        db.users.push(demoUser);
    }
    localStorage.setItem('movani_db', JSON.stringify(db));

    alert('Logged in as demo user');
    window.location.href = 'index.html';
}
</script>

</body>
</html>
